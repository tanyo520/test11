// // console.log(JSON.stringify({
// // 	"form":'{"Id":"191230095906","FormSettingId":"56bb0097-bbc0-454f-bf72-af0f26aebe12","FormVer":0,"VerRemark":"develop","FormName":"CUSTOM_FormName_20191230095857","Description":null,"Theme":"default","TableName":"eform_testq_test","Assembly":"","JsExtend":"","Style":"gray","GroupId":"d1393282-d9b6-4361-984b-8b1911f68f45","Readonly":false,"DataSourceType":0,"PrimaryKey":"Id","ConnStringKey":"edoc2v5","Resources":null,"Container":{"Id":"13768531-91b2-c1de-74a1-fbe5b5702124","Blocks":[{"Id":"c837d0b7-7b40-1265-7951-024aca26edf2","Title":"","Merge":"false","Show":"true","ShowHeader":"true","Group":"false","Unfold":"true","Async":"true","Columns":[{"Id":"06e103bb-a299-1a09-e3b9-bd37c445ae69","Width":"","Show":"true","ShowHeader":"false","Title":"","Controls":[{"Id":"353f5c0c-0f53-efc4-4ef9-ce2f1849a850","ControlId":"name","ControlType":"edoc2Textbox","Setting":[{"id":"name","name":"名称","value":"CUSTOM_157767115456428733402","group":"基本设置","editor":"langEditor","support":["pc","mobile"]},{"id":"controlId","name":"编号","value":"name","group":"基本设置","editor":"controlId"},{"id":"fieldName","name":"字段","value":"name","group":"基本设置","editor":"field"},{"id":"fieldType","name":"字段类型","value":"nvarchar","group":"基本设置","editor":"field","show":false},{"id":"platform","name":"平台","value":"all","group":"基本设置","editor":{"type":"combobox","options":{"editable":false,"panelHeight":"auto","valueField":"id","textField":"text","data":[{"id":"all","text":"桌面/移动"},{"id":"pc","text":"桌面"},{"id":"mobile","text":"移动"}]}}},{"id":"width","name":"宽度","value":"244","group":"基本设置","editor":"numberbox","show":true,"support":["pc"]},{"id":"inputType","name":"输入框","value":"text","group":"基本设置","editor":{"type":"combobox","options":{"panelHeight":"auto","editable":false,"valueField":"id","textField":"text","data":[{"id":"text","text":"文本框"},{"id":"password","text":"密码框模式"}]}}},{"id":"defaultValueType","name":"默认值类型","value":"userVar","group":"基本设置","editor":"TxtDefaultValueTypeEditor"},{"id":"defaultValue","name":"默认值","value":"","group":"基本设置","editor":"TxtUserOrSystemVarEditor"},{"id":"minLength","name":"最小长度","value":"","group":"基本设置","editor":"numberbox"},{"id":"autoComplete","name":"是否自动完成","value":"false","group":"基本设置","editor":{"type":"combobox","options":{"panelHeight":"auto","valueField":"id","textField":"text","editable":false,"data":[{"id":"true","text":"是"},{"id":"false","text":"否"}]}},"support":["pc"]},{"id":"autoCompleteBindFormName","name":"自动完成绑定表单","value":"","group":"基本设置","editor":{"type":"combobox","options":{"panelHeight":"310","valueField":"id","textField":"name","data":[{"id":"191230095906","name":"测试","dataSourceType":0},{"id":"191225175255","name":"新增档号策略","dataSourceType":0},{"id":"191224114507","name":"字典添加","dataSourceType":0},{"id":"191224114243","name":"字典管理","dataSourceType":0},{"id":"191226095941","name":"档案类型编辑","dataSourceType":0},{"id":"191226095059","name":"档案类型视图","dataSourceType":1},{"id":"191226094927","name":"档案类型设置","dataSourceType":0},{"id":"191226094054","name":"档案类型","dataSourceType":0},{"id":"191219185738","name":"预归档类型视图","dataSourceType":1},{"id":"191219182345","name":"预归档类型编辑","dataSourceType":0},{"id":"191219182313","name":"预归档类型设置","dataSourceType":0},{"id":"191213142638","name":"预归档类型","dataSourceType":0},{"id":"191219132613","name":"档案全宗编辑","dataSourceType":0},{"id":"191212142325","name":"全宗设置","dataSourceType":0},{"id":"191212140819","name":"档案全宗","dataSourceType":0},{"id":"191218161504","name":"借阅详情","dataSourceType":0},{"id":"191218161455","name":"我的借阅","dataSourceType":0},{"id":"191218161442","name":"借阅车","dataSourceType":0},{"id":"191218161424","name":"回收站","dataSourceType":0},{"id":"191218161417","name":"销毁库","dataSourceType":0},{"id":"191218161408","name":"鉴定库","dataSourceType":0},{"id":"191218151500","name":"档案库","dataSourceType":0},{"id":"191218161328","name":"我的移交","dataSourceType":0},{"id":"191218161318","name":"我的收藏夹","dataSourceType":0},{"id":"191224182350","name":"整编中心","dataSourceType":0},{"id":"191218151545","name":"预归档","dataSourceType":0},{"id":"191218164831","name":"首页搜索","dataSourceType":0},{"id":"191218150520","name":"首页","dataSourceType":0}]}},"support":["pc"]},{"id":"autoCompleteBindFieldName","name":"自动完成绑定字段","value":"","group":"基本设置","editor":"autoCompleteBindFieldNameEditor","support":["pc"]},{"id":"needExpValidate","name":"正则验证提示","value":"false","group":"基本设置","editor":{"type":"combobox","options":{"panelHeight":"auto","editable":false,"valueField":"id","textField":"text","data":[{"id":"true","text":"是"},{"id":"false","text":"否"}]}}},{"id":"regexType","name":"正则类型","value":"","group":"基本设置","editor":"TxtRegexTypeEditor"},{"id":"regex","name":"正则验证表达式","value":"","group":"基本设置","editor":"TxtRegexEditor"},{"id":"regexTips","name":"正则验证提示","value":"","group":"基本设置","editor":"validatebox"},{"id":"must","name":"是否必填","value":"false","group":"基本设置","editor":{"type":"combobox","options":{"editable":false,"panelHeight":"auto","valueField":"id","textField":"text","data":[{"id":"true","text":"是"},{"id":"false","text":"否"}]}}},{"id":"readonly","name":"是否只读","value":"false","group":"基本设置","editor":{"type":"combobox","options":{"editable":false,"panelHeight":"auto","valueField":"id","textField":"text","data":[{"id":"true","text":"是"},{"id":"false","text":"否"}]}}}],"Containers":null}]}]}]}}',
// // 	"formId":"191230095906",
// // 	"formVer":"0",
// // 	"onLoadBefore":"",
// // 	"onLoaded":"",
// // 	"publicExtend":""})
// //		   );
// //test();
// ceshi

// function test(){
// var jsonstr = '{"Id":"191230095906","FormSettingId":"56bb0097-bbc0-454f-bf72-af0f26aebe12","FormVer":0,"VerRemark":"develop","FormName":"CUSTOM_FormName_20191230095857","Description":null,"Theme":"default","TableName":"eform_testq_test","Assembly":"","JsExtend":"","Style":"gray","GroupId":"d1393282-d9b6-4361-984b-8b1911f68f45","Readonly":false,"DataSourceType":0,"PrimaryKey":"Id","ConnStringKey":"edoc2v5","Resources":null,"Container":{"Id":"13768531-91b2-c1de-74a1-fbe5b5702124","Blocks":[{"Id":"c837d0b7-7b40-1265-7951-024aca26edf2","Title":"","Merge":"false","Show":"true","ShowHeader":"true","Group":"false","Unfold":"true","Async":"true","Columns":[{"Id":"06e103bb-a299-1a09-e3b9-bd37c445ae69","Width":"","Show":"true","ShowHeader":"false","Title":"","Controls":[{"Id":"353f5c0c-0f53-efc4-4ef9-ce2f1849a850","ControlId":"name","ControlType":"edoc2Textbox","Setting":[{"id":"name","name":"名称","value":"CUSTOM_157767115456428733402","group":"基本设置","editor":"langEditor","support":["pc","mobile"]},{"id":"controlId","name":"编号","value":"name","group":"基本设置","editor":"controlId"},{"id":"fieldName","name":"字段","value":"name","group":"基本设置","editor":"field"},{"id":"fieldType","name":"字段类型","value":"nvarchar","group":"基本设置","editor":"field","show":false},{"id":"platform","name":"平台","value":"all","group":"基本设置","editor":{"type":"combobox","options":{"editable":false,"panelHeight":"auto","valueField":"id","textField":"text","data":[{"id":"all","text":"桌面/移动"},{"id":"pc","text":"桌面"},{"id":"mobile","text":"移动"}]}}},{"id":"width","name":"宽度","value":"244","group":"基本设置","editor":"numberbox","show":true,"support":["pc"]},{"id":"inputType","name":"输入框","value":"text","group":"基本设置","editor":{"type":"combobox","options":{"panelHeight":"auto","editable":false,"valueField":"id","textField":"text","data":[{"id":"text","text":"文本框"},{"id":"password","text":"密码框模式"}]}}},{"id":"defaultValueType","name":"默认值类型","value":"userVar","group":"基本设置","editor":"TxtDefaultValueTypeEditor"},{"id":"defaultValue","name":"默认值","value":"","group":"基本设置","editor":"TxtUserOrSystemVarEditor"},{"id":"minLength","name":"最小长度","value":"","group":"基本设置","editor":"numberbox"},{"id":"autoComplete","name":"是否自动完成","value":"false","group":"基本设置","editor":{"type":"combobox","options":{"panelHeight":"auto","valueField":"id","textField":"text","editable":false,"data":[{"id":"true","text":"是"},{"id":"false","text":"否"}]}},"support":["pc"]},{"id":"autoCompleteBindFormName","name":"自动完成绑定表单","value":"","group":"基本设置","editor":{"type":"combobox","options":{"panelHeight":"310","valueField":"id","textField":"name","data":[{"id":"191230095906","name":"测试","dataSourceType":0},{"id":"191225175255","name":"新增档号策略","dataSourceType":0},{"id":"191224114507","name":"字典添加","dataSourceType":0},{"id":"191224114243","name":"字典管理","dataSourceType":0},{"id":"191226095941","name":"档案类型编辑","dataSourceType":0},{"id":"191226095059","name":"档案类型视图","dataSourceType":1},{"id":"191226094927","name":"档案类型设置","dataSourceType":0},{"id":"191226094054","name":"档案类型","dataSourceType":0},{"id":"191219185738","name":"预归档类型视图","dataSourceType":1},{"id":"191219182345","name":"预归档类型编辑","dataSourceType":0},{"id":"191219182313","name":"预归档类型设置","dataSourceType":0},{"id":"191213142638","name":"预归档类型","dataSourceType":0},{"id":"191219132613","name":"档案全宗编辑","dataSourceType":0},{"id":"191212142325","name":"全宗设置","dataSourceType":0},{"id":"191212140819","name":"档案全宗","dataSourceType":0},{"id":"191218161504","name":"借阅详情","dataSourceType":0},{"id":"191218161455","name":"我的借阅","dataSourceType":0},{"id":"191218161442","name":"借阅车","dataSourceType":0},{"id":"191218161424","name":"回收站","dataSourceType":0},{"id":"191218161417","name":"销毁库","dataSourceType":0},{"id":"191218161408","name":"鉴定库","dataSourceType":0},{"id":"191218151500","name":"档案库","dataSourceType":0},{"id":"191218161328","name":"我的移交","dataSourceType":0},{"id":"191218161318","name":"我的收藏夹","dataSourceType":0},{"id":"191224182350","name":"整编中心","dataSourceType":0},{"id":"191218151545","name":"预归档","dataSourceType":0},{"id":"191218164831","name":"首页搜索","dataSourceType":0},{"id":"191218150520","name":"首页","dataSourceType":0}]}},"support":["pc"]},{"id":"autoCompleteBindFieldName","name":"自动完成绑定字段","value":"","group":"基本设置","editor":"autoCompleteBindFieldNameEditor","support":["pc"]},{"id":"needExpValidate","name":"正则验证提示","value":"false","group":"基本设置","editor":{"type":"combobox","options":{"panelHeight":"auto","editable":false,"valueField":"id","textField":"text","data":[{"id":"true","text":"是"},{"id":"false","text":"否"}]}}},{"id":"regexType","name":"正则类型","value":"","group":"基本设置","editor":"TxtRegexTypeEditor"},{"id":"regex","name":"正则验证表达式","value":"","group":"基本设置","editor":"TxtRegexEditor"},{"id":"regexTips","name":"正则验证提示","value":"","group":"基本设置","editor":"validatebox"},{"id":"must","name":"是否必填","value":"false","group":"基本设置","editor":{"type":"combobox","options":{"editable":false,"panelHeight":"auto","valueField":"id","textField":"text","data":[{"id":"true","text":"是"},{"id":"false","text":"否"}]}}},{"id":"readonly","name":"是否只读","value":"false","group":"基本设置","editor":{"type":"combobox","options":{"editable":false,"panelHeight":"auto","valueField":"id","textField":"text","data":[{"id":"true","text":"是"},{"id":"false","text":"否"}]}}}],"Containers":null}]}]}]}}';
// 	$.ajax({
// 		type:"post";
// 		url:"http://10.168.9.30/eform/default/SaveLayout",
// 		data:{
// 		form:window.encodeURIComponent(jsonstr),
// 		formId:"191230095906",
// 		formVer:"0",
// 		onLoadBefore:"",
// 		onLoaded:"",
// 		publicExtend:""

// },
// 	success: function(e) {
// 		console.log("1212");
// 	},
// 		error: function() {
// 			console.log("3434");

// 		}



// })

// }

laoyan();

function laoyan(){
	$.ajax({
		type:"get",
		url:"http://"+window.location.host+"/eform/default/CopyForm",
		data:{
			formId:"200218134028_edrmsarch",
			newFormName:"test",
			fields:"eformTextbox1",
			listFields:"eformTextbox1",
			tableName:"test1"
		},
		success: function(e) {

			console.log(e.data);
			console.log("成功");
		},
		error: function() {
			console.log("失败");

		}

	})


}





// xuesen();

// function xuesen(){

// 	$.ajax({
// 		type:"get",
// 		url:"http://10.168.9.30/eform/default/UpdateForm",
// 		data:{
// 			formId:"200102173842",
// 			masterFormId:"191230095906",
// 			fields:"age,name",
// 			listFields:"age,name"		
// 		},
// 		success: function(e) {
// 			console.log("1212");
// 		},
// 		error: function() {
// 			console.log("3434");

// 		}

// 	})}




// xuesen1();

// function xuesen1(){

// 	$.ajax({
// 		type:"get",
// 		url:"http://10.168.9.30/eform/formapi/GetControlsByFormId",
// 		data:{
// 			formid:"200106141605"		
// 		},
// 		success: function(e) {
// 			console.log(e);
// 			console.log("成功");
// 		},
// 		error: function() {
// 			console.log("失败");

// 		}

// 	})}



// test();

// function test(){
// 	debugger;
// 	var token = $.cookie("token");
// 	var fileId='95';
// 	$.ajax({
// 		type:"POST",
// 		url:"http://10.168.9.30:801/WordTemplate/SaveWordFile",
// 		data:{
// 			fileId:fileId,
// 			token:token,
// 			jsonData:{
// 				"archName":"Ceshi",
// 				"name":"moses"
// 			},
// 			fileFormat:''
// 		},
// 		success: function(e) {
// 			console.log(e);
// 			console.log("成功");
// 		},
// 		error: function() {
// 			console.log("失败");

// 		}

// 	})
// }

//var data1="{\"fileId\":95,\"token\":\"000088898d6fceb64842949ce6bbd1b9252d\",\"jsonData\":\"{\"archName\":\"1\",\"name\":\"2\"}","\"fileFormat\":\"\"}";




// var data1 = {
// 	fileId: 95 ,
// 	token: '000088898d6fceb64842949ce6bbd1b9252d',
// 	jsonData: JSON.stringify({
// 		"archName":"Ceshi",
// 		"name":"moses"}),
// 	fileFormat: ""
// };

// var jsonval={
// 	"page":"12",
// 	"drawing":"3",
// 	"note":"测试",
// 	"user":"秦学森",
// 	"year":"2019",
// 	"month":"10",
// 	"day":"12",
// 	"checkuser":"严正元",
// 	"checkyear":"2020",
// 	"checkmonth":"01",
// 	"checkday":"12",
// 	"checknote":"测试",
// 	"updatenote":"测试"
// };
// jsonval= JSON.stringify(jsonval);
// var token = $.cookie("token");
// var fileId='99';
// var data = {
// 	fileId: fileId ,
// 	token: token,
// 	jsonData: jsonval,
// 	fileFormat: "pdf"
// };


// console.log(data);
// $.ajax({
// 	url: "http://10.168.9.30:801/WordTemplate/SaveWordFile",   
// 	type: "post",                      
// 	data: data,      
// 	success: function (msg) {   
// 		if (msg) {
// 			msg = JSON.parse(msg);
// 			if (msg.Status == true) {
// 				var url = msg.filePath;
// 				console.log(url);
// 				url="http://10.168.9.30:801/"+url;
// 				download(url);
// 			}

// 		}   
// 	},
// 	erros:function(msg){
// 		console.log(msg);
// 	}
// });


// function download(url){
// 	try {
// 		var elemIF = document.createElement("iframe");
// 		elemIF.src = url;
// window.location.href=url;
// // 		elemIF.style.display = "none";
// // 		document.body.appendChild(elemIF);
// 	} catch (e) {
// 		alert("下载异常！");
// 	}
// }